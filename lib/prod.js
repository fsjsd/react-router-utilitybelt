'use strict';function _interopDefault(a){return a&&"object"==typeof a&&"default"in a?a["default"]:a}var React=require("react"),React__default=_interopDefault(React),reactRouterDom=require("react-router-dom"),PropTypesReactRouter=_interopDefault(require("react-router-prop-types"));function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _objectSpread(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_defineProperty(a,b,c[b])})}return a}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _iterableToArrayLimit(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function createCommonjsModule(a,b){return b={exports:{}},a(b,b.exports),b.exports}var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function a(a,b,c,d,e,f){if(f!==ReactPropTypesSecret_1){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}function b(){return a}a.isRequired=a;var c={array:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return c.PropTypes=c,c},propTypes=createCommonjsModule(function(a){a.exports=factoryWithThrowingShims()});function _toConsumableArray$1(a){return _arrayWithoutHoles$1(a)||_iterableToArray$1(a)||_nonIterableSpread$1()}function _arrayWithoutHoles$1(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function _iterableToArray$1(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _nonIterableSpread$1(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var globalConfig={disabled:!1,disableInProduction:!0},transports=[],registerTransport=function(a){globalConfig.disabled||globalConfig.disableInProduction&&process&&process.env&&!0||!a.isAvailableInEnvironment(globalConfig)||(a.initialise(),transports.push(a))},transformArgs=function(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return void 0===a?c:a.smile?[":)"].concat(c):a.timestamp?[new Date().toTimeString()].concat(c):c}},dispatchToTransports=function(a,b){return function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];transports.map(function(c){return c.dispatch(a,b).apply(void 0,_toConsumableArray$1(transformArgs(b).apply(void 0,d)))})}},levels=["log","debug","error","warn","fatal"],outputs=function(a){return{log:function(){return dispatchToTransports("log",a).apply(void 0,arguments)},debug:function(){return dispatchToTransports("debug",a).apply(void 0,arguments)},error:function(){return dispatchToTransports("error",a).apply(void 0,arguments)},warn:function(){return dispatchToTransports("warn",a).apply(void 0,arguments)}}},lgr=function(a){return outputs(a)};levels.map(function(a){return lgr[a]=function(){var b;return(b=outputs())[a].apply(b,arguments)}});var makeStyle=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=a.backgroundColor,c=void 0===b?"black":b,d=a.color,e=void 0===d?"white":d,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,g="$1.".concat(5*f,"rem");return"background-color:".concat(c,";color:").concat(e,";border-radius:3px;padding:2px 4px;margin-left:2px;font-size:").concat(g,";font-weight:").concat(0===f?"bold":"normal")},transformConsoleArgs=function(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];if(a===void 0)return c;if(a.meta){var e="string"==typeof a.meta?["%c".concat(a.meta),makeStyle(a)]:[a.meta.map(function(a){return"%c".concat(a)}).join("")].concat(_toConsumableArray$1(a.meta.map(function(b,c){return makeStyle(a,c)})));return[].concat(_toConsumableArray$1(e),c)}return c}},isAvailableInEnvironment=function(){return console!==void 0},dispatch=function(a,b){return function(){var c;(c=console)[a].apply(c,_toConsumableArray$1(transformConsoleArgs(b).apply(void 0,arguments)))}},initialise=function(){},consoleTransport={isAvailableInEnvironment:isAvailableInEnvironment,dispatch:dispatch,initialise:initialise},writerOutputEl=null,makeStyle$1=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=a.backgroundColor,c=void 0===b?"black":b,d=a.color,e=void 0===d?"white":d;return"display:inline-block;background-color:".concat(c,";color:").concat(e,";border-radius:3px;padding:2px 4px;margin-left:2px;")},transformConsoleArgs$1=function(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];if(a===void 0)return c;if(a.meta){var e="string"==typeof a.meta?"<div style=\"".concat(makeStyle$1(),"\">").concat(a.meta,"</div>"):a.meta.map(function(b){return"<div style=\"".concat(makeStyle$1(a),"\">").concat(b,"</div>")}).join("");return[e].concat(c).join(" ")}return c}},lineStyles={log:"",debug:"color:blue",error:"color:red",warn:"color:orange"},isAvailableInEnvironment$1=function(){return window!==void 0&&window.document!==void 0},makeEl=function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=b.tag,d=b.style,e=b.attrs,f=b.html,g=b.children,h=b.refOut,i=b.events,j=document.createElement(c);if(f&&(j.innerHTML=f),d){var k=Object.keys(d).map(function(a){return"".concat(a,":").concat(d[a])}).join(";");j.setAttribute("style",k)}if(h&&h(j),e)for(var l in e){var m=e[l];j.setAttribute(l,m)}return g&&g.map(function(b){j.appendChild(a(b))}),j},initialise$1=function(){var a=document.getElementById("lgr_html_dom_writer__");if(!a){var b=makeEl({tag:"DIV",attrs:{id:"lgr_html_dom_writer__",draggable:"draggable"},style:{display:"flex","flex-direction":"column",position:"fixed",width:"400px",top:"300px","background-color":"rgba(255,255,255,0.9)",bottom:"0px",right:"0px",overflow:"hidden",border:"solid 1px #007fe0","font-size":"12px"},children:[{tag:"DIV",style:{color:"white",display:"flex","flex-direction":"row","background-color":"#007fe0",padding:"10px","font-size":"12px"},children:[{tag:"DIV",html:"lgr",style:{"flex-grow":"2"}},{tag:"DIV",html:"\u2022",style:{"align-self":"flex-end","font-size":"20px","line-height":"0.5pt"}}]},{tag:"DIV",refOut:function(a){writerOutputEl=a},style:{"flex-grow":2,padding:"10px",overflow:"scroll"}}]});document.body.appendChild(b)}},dispatch$1=function(a,b){return function(){var c=document.createElement("DIV");c.setAttribute("style","margin-bottom:2px;".concat(lineStyles[a])),c.innerHTML=transformConsoleArgs$1(b).apply(void 0,arguments),writerOutputEl.append(c)}},htmlDomTransport={isAvailableInEnvironment:isAvailableInEnvironment$1,dispatch:dispatch$1,initialise:initialise$1},lgrBrowser=function(){return registerTransport(consoleTransport),lgr},exports$1={lgr:lgr,lgrBrowser:lgrBrowser,consoleTransport:consoleTransport,htmlDomTransport:htmlDomTransport,registerTransport:registerTransport},prod=exports$1,fsjsdLgr=createCommonjsModule(function(a){a.exports=prod}),AppRoutesContext=React.createContext(null),defaultConfig={filter:function(a){return function(b){return b.showInNav&&(""===a||-1!==(b.navlabel||b.title).toLowerCase().indexOf(a.toLowerCase()))}}},AppRoutesProvider=function(a){var b=a.children,c=a.location,d=a.history,e=a.appRoutesData,f=a.navItemGroups,g=a.config,h=React.useState({currentRouteTitle:""}),i=_slicedToArray(h,2),j=i[0],k=i[1],l=(g||{}).filterRoutes,m=void 0===l?defaultConfig.filter:l,n=Object.keys(e).map(function(a){return _objectSpread({},e[a],{path:a})}),o=function(a){return n.find(function(b){return reactRouterDom.matchPath(a,{path:b.path,exact:b.exact,strict:!1})})};(function(){n.forEach(function(a){if(a.parent&&!e[a.parent])throw new Error("Route: '".concat(a.path,"' declares parent '").concat(a.parent,"' which does not exist"));if(a.showSubNav&&!n.find(function(b){return b.parent===a.path}))throw new Error("Route: '".concat(a.path,"' defines showSubNav=true but no child nodes exist"))})})();var p={state:j,appRoutes:e,appRoutesList:n,navItemGroups:f,currentPath:c.pathname,currentRoute:o(c.pathname),filterRoutes:m,resolveAppRoute:o,update:function(a){k(function(b){return _objectSpread({},b,a)})},navigate:function(a){d.push(a)}};return React__default.createElement(AppRoutesContext.Provider,{value:p},b)};AppRoutesProvider.defaultProps={config:null},AppRoutesProvider.propTypes={children:propTypes.node.isRequired,location:PropTypesReactRouter.location.isRequired,history:PropTypesReactRouter.history.isRequired,appRoutesData:propTypes.object.isRequired,config:propTypes.object};var AppRoutesProvider$1=reactRouterDom.withRouter(AppRoutesProvider),componentsJoin=function(a,b){return a.reduce(function(a,c){return a.length?[].concat(_toConsumableArray(a),[b,c]):[c]},[]).map(function(a,b){return _objectSpread({},a,{key:b})})},BreadCrumbs=function(a){var b=a.renderWrapper,c=a.renderSeparator,d=a.renderCurrentRouteCrumb,e=React.useContext(AppRoutesContext),f=e.state,g=e.currentRoute,h=e.appRoutes,i=f.currentRouteTitle,j=function a(b){var c=b.parent?a(_objectSpread({},h[b.parent],{path:b.parent})):[];return[].concat(_toConsumableArray(c),[b])},k=function(a){return a.path===g.path?d(""===i?g.title:i):React__default.createElement(reactRouterDom.Link,{to:a.path},a.title)};return React__default.createElement(React__default.Fragment,null,g&&g.parent&&b(function(){var a=componentsJoin(j(g).map(function(a){return k(a)}),c());return a}))};BreadCrumbs.propTypes={renderWrapper:propTypes.func.isRequired,renderSeparator:propTypes.func.isRequired,renderCurrentRouteCrumb:propTypes.func.isRequired};var BreadCrumbs$1=React__default.memo(BreadCrumbs),RouteCatalog=function(a){var b=a.onRouteNotFound,c=React.useContext(AppRoutesContext),d=c.appRoutesList;return console.log("RouteCatalog",d),React__default.createElement(reactRouterDom.Switch,null,d.map(function(a){return React__default.createElement(reactRouterDom.Route,{key:a.path,path:a.path,exact:a.exact,render:function(b){return React__default.createElement(a.component,b)}})}),b&&React__default.createElement(reactRouterDom.Route,{render:function(){return b()}}))};RouteCatalog.propTypes={onRouteNotFound:propTypes.func.isRequired};var RouteCatalog$1=React__default.memo(RouteCatalog),RouteDefinitionNavLink=function(a){var b=a.route,c=a.uiChevron,d=a.onClick,e=a.className;return React__default.createElement(reactRouterDom.NavLink,{className:e,activeClassName:"active",to:b.path,exact:b.exact,onClick:function(){return d&&d()}},b.icon&&b.icon(),React__default.createElement("label",null,b.navlabel||b.title),b.showSubNav?c?c():">":null)};RouteDefinitionNavLink.defaultProps={onClick:null},RouteDefinitionNavLink.propTypes={route:propTypes.object.isRequired,onClick:propTypes.func};var RouteDefinitionNavLink$1=React__default.memo(RouteDefinitionNavLink),LeftNavLink=function(a){var b=a.label,c=a.icon,d=a.onClick,e=a.className;return React__default.createElement("div",{className:e,role:"button",onClick:d,onKeyPress:function(){},tabIndex:"0"},c?c():null,React__default.createElement("span",null,b))};LeftNavLink.defaultProps={icon:null},LeftNavLink.propTypes={label:propTypes.string.isRequired,onClick:propTypes.func.isRequired,icon:propTypes.func};var DrawerNavigation=function(a){var b=a.filter,c=a.renderDrawerControl,d=a.renderDrawerMenu,e=a.renderRouteNavLinks,f=a.renderRouteNavLink,g=a.renderBackLink,h=a.renderNoRoutes,i=a.renderNavGroup,j=a.className,k=React.useContext(AppRoutesContext),l=k.appRoutes,m=k.appRoutesList,n=k.navItemGroups,o=k.currentRoute,p=k.filterRoutes,q=k.navigate,r=React.useState(!1),s=_slicedToArray(r,2),t=s[0],u=s[1],v=o.showSubNav,w=l[o.parent],x=m.find(function(a){return a.parent&&a.parent===o.path})!==void 0;React.useEffect(function(){(v||w&&w.showSubNav)&&u(!0)},[w,v]);var y=function(a){a.showSubNav&&u(!0)},z=function(){w&&w.parent?q(w.parent):u(!1)},A=function(a){return x?a.showInNav&&a.parent===o.path:a.showInNav&&a.path===o.path},B=function(a){return e(function(){return React__default.createElement(React__default.Fragment,null,a.map(function(a){return f(a,y)}),0===a.length&&h())})};return React__default.createElement("div",{className:j},c(function(){return t&&""===b}(),function(){return React__default.createElement(React__default.Fragment,null,d("main",function(){return""===b?React__default.createElement(React__default.Fragment,null,n&&n.map(function(a){return React__default.createElement(React.Fragment,{key:a},""===a?"":i(a),B(m.filter(function(b){return b.showInNav&&!b.parent&&b.group===a})))})):B(m.filter(p(b)))}),d("sub",function(){return React__default.createElement(React__default.Fragment,null,g(z),t?React__default.createElement(React__default.Fragment,null,B(m.filter(A))):null)}))}))};DrawerNavigation.propTypes={filter:propTypes.string.isRequired};var DrawerNavigation$1=React__default.memo(DrawerNavigation),useCurrentPageTitle=function(){var a=React.useContext(AppRoutesContext),b=a.state,c=a.currentRoute,d=b.currentRouteTitle;return""===d?c?c.title:"Page Not Found":d},PageTitle=function(){var a=useCurrentPageTitle();return React__default.createElement(React__default.Fragment,null,a)},useSetPageTitleOverride=function(a){var b=React.useContext(AppRoutesContext);b.state.currentRouteTitle!==a&&b.update({currentRouteTitle:a}),React.useEffect(function(){return function(){return b.update({currentRouteTitle:""})}},[a])},exports$2={AppRoutesProvider:AppRoutesProvider$1,AppRoutesContext:AppRoutesContext,RouteCatalog:RouteCatalog$1,BreadCrumbs:BreadCrumbs$1,DrawerNavigation:DrawerNavigation$1,PageTitle:PageTitle,RouteDefinitionNavLink:RouteDefinitionNavLink$1,LeftNavLink:LeftNavLink,useCurrentPageTitle:useCurrentPageTitle,useSetPageTitleOverride:useSetPageTitleOverride};module.exports=exports$2;
