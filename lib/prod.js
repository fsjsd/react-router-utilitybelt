"use strict";var React=require("react"),reactRouterDom=require("react-router-dom"),PropTypesReactRouter=require("react-router-prop-types");function _interopDefaultLegacy(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}var React__default=/*#__PURE__*/_interopDefaultLegacy(React),PropTypesReactRouter__default=/*#__PURE__*/_interopDefaultLegacy(PropTypesReactRouter);function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread2(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _iterableToArrayLimit(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f=[],g=!0,h=!1;try{for(c=c.call(a);!(g=(d=c.next()).done)&&(f.push(d.value),!(b&&f.length===b));g=!0);}catch(a){h=!0,e=a}finally{try{g||null==c["return"]||c["return"]()}finally{if(h)throw e}}return f}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function unwrapExports(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a["default"]:a}function createCommonjsModule(a,b){return b={exports:{}},a(b,b.exports),b.exports}var ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function a(a,b,c,d,e,f){if(f!==ReactPropTypesSecret){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return c.PropTypes=c,c},require$$0=factoryWithThrowingShims,propTypes=createCommonjsModule(function(a){a.exports=require$$0()}),PropTypes=propTypes,prod=createCommonjsModule(function(a,c){function d(d,a,b){return a in d?Object.defineProperty(d,a,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[a]=b,d}function e(e){for(var a=1;a<arguments.length;a++){var f=null==arguments[a]?{}:arguments[a],c=Object.keys(f);"function"==typeof Object.getOwnPropertySymbols&&(c=c.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),c.forEach(function(a){d(e,a,f[a])})}return e}function f(b){return g(b)||i(b)||j()}function g(d){if(Array.isArray(d)){for(var a=0,e=Array(d.length);a<d.length;a++)e[a]=d[a];return e}}function i(b){if(Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b))return Array.from(b)}function j(){throw new TypeError("Invalid attempt to spread non-iterable instance")}Object.defineProperty(c,"__esModule",{value:!0});var k=.333,l=function(){k+=.618033988749895,k%=1;var b=Math.floor(360*k);return b},m={},n=function(d,a){var b=m[d];return void 0===b&&(b=l(),m[d]=b),"hsl(".concat(b,", 70%, ").concat(45+5*a,"%)")},o=function(){var b=new Date;return"".concat(b.getHours().toString().padStart(2,"0"),":").concat(b.getMinutes().toString().padStart(2,"0"),":").concat(b.getSeconds().toString().padStart(2,"0"),".").concat(b.getMilliseconds())},p={disabled:!1,disableInProduction:!0},q=[],r=function(b){p.disabled||p.disableInProduction&&process&&process.env&&!0||!b.isAvailableInEnvironment(p)||(b.initialise(),q.push(b))},s=function(e){return function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return void 0===e?b:e.smile?[":)"].concat(b):e.timestamp?[o()].concat(b):b}},t=function(e,a){return function(){for(var b=arguments.length,g=Array(b),c=0;c<b;c++)g[c]=arguments[c];q.map(function(b){return b.dispatch(e,a).apply(void 0,f(s(a).apply(void 0,g)))})}},u=["log","debug","error","warn","fatal"];c.lgr=null,c.lgr=function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{meta:[]},a=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{meta:[]};return c.lgr(e({},d,a,{meta:[].concat(f(d.meta||[]),[a.meta||[]])}))};return u.map(function(b){return a[b]=function(){return t(b,d).apply(void 0,arguments)}}),a};var v=function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=i.backgroundColor,b=void 0===a?null:a,c=i.color,d=void 0===c?"white":c,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,g=null===b?n(e,f):b;return"background-color:".concat(g,";color:").concat(d,";border-radius:3px;padding:2px 4px;margin-left:2px;font-size:").concat("$1.5rem",";font-weight:").concat(0===f?"bold":"normal")},w=function(g){return function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(void 0===g)return b;if(g.meta){var h="string"==typeof g.meta?["%c".concat(g.meta),v(g,g.meta)]:[g.meta.map(function(b){return"%c".concat(b)}).join("")].concat(f(g.meta.map(function(a,b){return v(g,g.meta[0],b)})));return[].concat(f(h),b)}return b}},x={isAvailableInEnvironment:function(){return void 0!==console},dispatch:function(d,a){return function(){var b;(b=console)[d].apply(b,f(w(a).apply(void 0,arguments)))}},initialise:function(){}},y={Reset:"\x1B[0m",Bright:"\x1B[1m",Dim:"\x1B[2m",Underscore:"\x1B[4m",Blink:"\x1B[5m",Reverse:"\x1B[7m",Hidden:"\x1B[8m",FgBlack:"\x1B[30m",FgRed:"\x1B[31m",FgGreen:"\x1B[32m",FgYellow:"\x1B[33m",FgBlue:"\x1B[34m",FgMagenta:"\x1B[35m",FgCyan:"\x1B[36m",FgWhite:"\x1B[37m",BgBlack:"\x1B[40m",BgRed:"\x1B[41m",BgGreen:"\x1B[42m",BgYellow:"\x1B[43m",BgBlue:"\x1B[44m",BgMagenta:"\x1B[45m",BgCyan:"\x1B[46m",BgWhite:"\x1B[47m"},z=function(b){return b in y?y[b]:y.FgGreen},A=function(g){return function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(void 0===g)return b;if(g.meta){var h="string"==typeof g.meta?["".concat(z(g.color),"%s").concat(y.Reset),g.meta]:g.meta.reduce(function(a,b){return[].concat(f(a),["".concat(z(g.color),"%s").concat(y.Reset),b])},[]);return[].concat(f(h),b)}return b}},B={isAvailableInEnvironment:function(){return void 0!==console},dispatch:function(d,a){return function(){var b;(b=console)[d].apply(b,f(A(a).apply(void 0,arguments)))}},initialise:function(){}},C=null,D=function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=i.backgroundColor,b=void 0===a?null:a,c=i.color,d=void 0===c?"white":c,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,g=null===b?n(e,f):b;return"display:inline-block;background-color:".concat(g,";color:").concat(d,";border-radius:3px;padding:2px 4px;margin-left:2px;")},E=function(f){return function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(void 0===f)return b;if(f.meta){var g="string"==typeof f.meta?"<div style=\"".concat(D(f,f.meta),"\">").concat(f.meta,"</div>"):f.meta.map(function(a,b){return"<div style=\"".concat(D(f,f.meta[0],b),"\">").concat(a,"</div>")}).join("");return[g].concat(b).join(" ")}return b}},F={log:"",debug:"color:blue",error:"color:red",warn:"color:orange"},G=function(c){return Object.keys(c).map(function(a){return"".concat(a,":").concat(c[a])}).join(";")},H=function o(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.tag,c=a.style,d=a.attrs,e=a.html,f=a.children,g=a.refOut,h=a.events,i=document.createElement(b);if(e&&(i.innerHTML=e),c){var j=G(c);i.setAttribute("style",j)}if(g&&g(i),d)for(var k in d){var l=d[k];i.setAttribute(k,l)}if(h)for(var m in h)i.addEventListener(m,h[m]);return f&&f.map(function(a){i.appendChild(o(a))}),i};c.clearTransports=function(){q.length=0},c.consoleTransport=x,c.htmlDomTransport={isAvailableInEnvironment:function(){return void 0!==window&&void 0!==window.document},dispatch:function(d,a){return function(){var b=document.createElement("DIV");b.setAttribute("style","margin-bottom:2px;".concat(F[d])),b.innerHTML=E(a).apply(void 0,arguments),C.append(b)}},initialise:function(){var c=document.getElementById("lgr_html_dom_writer__");if(!c){var a=H({tag:"DIV",attrs:{id:"lgr_html_dom_writer__",draggable:"draggable"},style:{display:"flex","flex-direction":"column",position:"fixed",width:"400px",top:"300px","background-color":"rgba(255,255,255,0.9)",bottom:"0px",right:"0px",overflow:"hidden",border:"solid 1px #007fe0","font-size":"12px","font-family":"Helvetica, arial"},children:[{tag:"DIV",style:{color:"white",display:"flex","flex-direction":"row","background-color":"#007fe0",padding:"10px","font-size":"12px"},children:[{tag:"DIV",html:"lgr",style:{"flex-grow":"2"}},{tag:"DIV",html:"&#0149;",style:{"align-self":"flex-end","font-size":"20px","line-height":"0.5pt",height:"14px","letter-spacing":"0.5pt"},events:{click:function(){C.innerHTML="ACCESS"}}}]},{tag:"DIV",refOut:function(b){C=b},style:{"flex-grow":2,padding:"10px",overflow:"scroll"}}]});document.body.appendChild(a)}}},c.lgrBrowser=function(){return r(x),c.lgr({})},c.lgrNode=function(){return r(B),c.lgr({})},c.nodeTransport=B,c.registerTransport=r});unwrapExports(prod),prod.lgr,prod.clearTransports,prod.consoleTransport,prod.htmlDomTransport,prod.lgrBrowser,prod.lgrNode,prod.nodeTransport,prod.registerTransport,createCommonjsModule(function(a){a.exports=prod});var AppRoutesContext=React.createContext(null),defaultConfig={filter:function(a){return function(b){return b.showInNav&&(""===a||-1!==(b.navlabel||b.title).toLowerCase().indexOf(a.toLowerCase()))}}},AppRoutesProvider=function(a){var b=a.children,c=a.location,d=a.history,e=a.appRoutesData,f=a.navItemGroups,g=a.config,h=React.useState({currentRouteTitle:""}),i=_slicedToArray(h,2),j=i[0],k=i[1],l=(g||{}).filterRoutes,m=void 0===l?defaultConfig.filter:l,n=Object.keys(e).map(function(a){return _objectSpread2(_objectSpread2({},e[a]),{},{path:a})}),o=function(a){return n.find(function(b){return reactRouterDom.matchPath(a,{path:b.path,exact:b.exact,strict:!1})})};(function(){n.forEach(function(a){if(a.parent&&!e[a.parent])throw new Error("Route: '".concat(a.path,"' declares parent '").concat(a.parent,"' which does not exist"));if(a.showSubNav&&!n.find(function(b){return b.parent===a.path}))throw new Error("Route: '".concat(a.path,"' defines showSubNav=true but no child nodes exist"))})})();var p={state:j,appRoutes:e,appRoutesList:n,navItemGroups:f,currentPath:c.pathname,currentRoute:o(c.pathname),filterRoutes:m,resolveAppRoute:o,update:function(a){k(function(b){return _objectSpread2(_objectSpread2({},b),a)})},navigate:function(a){d.push(a)}};return React__default["default"].createElement(AppRoutesContext.Provider,{value:p},b)};AppRoutesProvider.defaultProps={config:null},AppRoutesProvider.propTypes={children:PropTypes.node.isRequired,location:PropTypesReactRouter__default["default"].location.isRequired,history:PropTypesReactRouter__default["default"].history.isRequired,appRoutesData:PropTypes.object.isRequired,config:PropTypes.object};var AppRoutesProvider$1=reactRouterDom.withRouter(AppRoutesProvider),componentsJoin=function(a,b){return a.reduce(function(a,c){return a.length?[].concat(_toConsumableArray(a),[b,c]):[c]},[]).map(function(a,b){return _objectSpread2(_objectSpread2({},a),{},{key:b})})},BreadCrumbs=function(a){var b=a.renderWrapper,c=a.renderSeparator,d=a.renderCurrentRouteCrumb,e=React.useContext(AppRoutesContext),f=e.state,g=e.currentRoute,h=e.appRoutes,i=f.currentRouteTitle,j=function b(a){var c=a.parent?b(_objectSpread2(_objectSpread2({},h[a.parent]),{},{path:a.parent})):[];return[].concat(_toConsumableArray(c),[a])},k=function(a){return a.path===g.path?d(""===i?g.title:i):React__default["default"].createElement(reactRouterDom.Link,{to:a.path},a.title)};return React__default["default"].createElement(React__default["default"].Fragment,null,g&&g.parent&&b(function(){var a=componentsJoin(j(g).map(function(a){return k(a)}),c());return a}))};BreadCrumbs.propTypes={renderWrapper:PropTypes.func.isRequired,renderSeparator:PropTypes.func.isRequired,renderCurrentRouteCrumb:PropTypes.func.isRequired};var BreadCrumbs$1=React__default["default"].memo(BreadCrumbs),RouteCatalog=function(a){var b=a.onRouteNotFound,c=React.useContext(AppRoutesContext),d=c.appRoutesList;return React__default["default"].createElement(reactRouterDom.Switch,null,d.map(function(a){return React__default["default"].createElement(reactRouterDom.Route,{key:a.path,path:a.path,exact:a.exact,render:function(b){return React__default["default"].createElement(a.component,b)}})}),b&&React__default["default"].createElement(reactRouterDom.Route,{render:function(){return b()}}))};RouteCatalog.propTypes={onRouteNotFound:PropTypes.func.isRequired};var RouteCatalog$1=React__default["default"].memo(RouteCatalog),RouteDefinitionNavLink=function(a){var b=a.route,c=a.uiChevron,d=a.onClick,e=a.className;return React__default["default"].createElement(reactRouterDom.NavLink,{className:e,activeClassName:"active",to:b.path,exact:b.exact,onClick:function(){return d&&d()}},b.icon&&b.icon(),React__default["default"].createElement("label",null,b.navlabel||b.title),b.showSubNav?c?c():">":null)};RouteDefinitionNavLink.defaultProps={onClick:null},RouteDefinitionNavLink.propTypes={route:PropTypes.object.isRequired,onClick:PropTypes.func};var RouteDefinitionNavLink$1=React__default["default"].memo(RouteDefinitionNavLink),LeftNavLink=function(a){var b=a.label,c=a.icon,d=a.onClick,e=a.className;return React__default["default"].createElement("div",{className:e,role:"button",onClick:d,onKeyPress:function(){},tabIndex:"0"},c?c():null,React__default["default"].createElement("span",null,b))};LeftNavLink.defaultProps={icon:null},LeftNavLink.propTypes={label:PropTypes.string.isRequired,onClick:PropTypes.func.isRequired,icon:PropTypes.func};var DrawerNavigation=function(a){var b=a.filter,c=a.renderDrawerControl,d=a.renderDrawerMenu,e=a.renderRouteNavLinks,f=a.renderRouteNavLink,g=a.renderBackLink,h=a.renderNoRoutes,i=a.renderNavGroup,j=a.className,k=React.useContext(AppRoutesContext),l=k.appRoutes,m=k.appRoutesList,n=k.navItemGroups,o=k.currentRoute,p=k.filterRoutes,q=k.navigate,r=React.useState(!1),s=_slicedToArray(r,2),t=s[0],u=s[1],v=o&&o.showSubNav,w=l[o.parent],x=m.find(function(a){return a.parent&&a.parent===o.path})!==void 0;React.useEffect(function(){(v||w&&w.showSubNav)&&u(!0)},[w,v]);var y=function(a){a.showSubNav&&u(!0)},z=function(){w&&w.parent?q(w.parent):u(!1)},A=function(a){return x?a.showInNav&&a.parent===o.path:a.showInNav&&(a.path===o.path||a.parent===o.parent)},B=function(a){return e(function(){return React__default["default"].createElement(React__default["default"].Fragment,null,a.map(function(a){return f(a,y)}),0===a.length&&h())})};return React__default["default"].createElement("div",{className:j},c(function(){return t&&""===b}(),function(){return React__default["default"].createElement(React__default["default"].Fragment,null,d("main",function(){return""===b?React__default["default"].createElement(React__default["default"].Fragment,null,n&&n.map(function(a){return React__default["default"].createElement(React.Fragment,{key:a},""===a?"":i(a),B(m.filter(function(b){return b.showInNav&&!b.parent&&b.group===a})))})):B(m.filter(p(b)))}),d("sub",function(){return React__default["default"].createElement(React__default["default"].Fragment,null,g(z),t?React__default["default"].createElement(React__default["default"].Fragment,null,B(m.filter(A))):null)}))}))};DrawerNavigation.propTypes={filter:PropTypes.string.isRequired};var DrawerNavigation$1=React__default["default"].memo(DrawerNavigation),useCurrentPageTitle=function(){var a=React.useContext(AppRoutesContext),b=a.state,c=a.currentRoute,d=b.currentRouteTitle;return""===d?c?c.title:"Page Not Found":d},PageTitle=function(){var a=useCurrentPageTitle();return React__default["default"].createElement(React__default["default"].Fragment,null,a)},useSetPageTitleOverride=function(a){var b=React.useContext(AppRoutesContext);b.state.currentRouteTitle!==a&&b.update({currentRouteTitle:a}),React.useEffect(function(){return function(){return b.update({currentRouteTitle:""})}},[a])},exports$1={AppRoutesProvider:AppRoutesProvider$1,AppRoutesContext:AppRoutesContext,RouteCatalog:RouteCatalog$1,BreadCrumbs:BreadCrumbs$1,DrawerNavigation:DrawerNavigation$1,PageTitle:PageTitle,RouteDefinitionNavLink:RouteDefinitionNavLink$1,LeftNavLink:LeftNavLink,useCurrentPageTitle:useCurrentPageTitle,useSetPageTitleOverride:useSetPageTitleOverride};module.exports=exports$1;
